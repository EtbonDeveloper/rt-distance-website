# **rt-distance-website**
![Deploy site status](https://github.com/EtbonDeveloper/rt-distance-website/actions/workflows/pages/pages-build-deployment/badge.svg)

## **Что вы можете делать используя этот веб-сайт:**
+ Получить полный доступ к информации о текущей паре в реальном времени;
+ Получить полный доступ к classroom кодам и ссылкам;
+ Посмотреть расписание звонков;
+ Посмотреть расписание предметов;
+ Создать собственное приложение используя возможности моего API или просто получить данные для своих нужд. 

## **Для чего был создан веб-сайт:**
> Первостепенная причина создания этого веб-сайта — это моё хобби, без моего желания и стремления всего этого не было бы. А второстепенная — это помощь моим одногрупникам, на моём веб-сайте они могут получить любую нужную им информацию в реальном времени и даже больше..

***Перейдите по этой ссылке чтобы посетить мой веб-сайт: https://etbondeveloper.github.io/rt-distance-website/***

## **Документация по API:**
### **1. Как я храню данные:**
> В этом разделе вы узнаете как я храню данные.

Все данные иерархически структурированы в JSON (JavaScript Object Notation) файле. Почему именно JSON? Во-первых, данные в таком формате имеют человекочитаемый вид, во-вторых, большинство языков программирования нативно умеют работать с JSON и правильно обрабатывать данные, в-третьих, для такой логической связи данных которую использую я, лучше JSON не подойдёт нечего.
### **2. Как получить данные:**
> В этом разделе вы узнаете как получить данные.

Как мы уже знаем, данные которые мы хотим получить хранятся в JSON файле, а сам этот файл храниться на сервере по определённому URL адресу. В моём API есть два варианта получения данных (русский и украинский вариант данных). Вот два URL адреса на разные варианты данных:
+ Русский вариант: https://etbondeveloper.github.io/rt-distance-website/api/ru/schedule.json
+ Украинский вариант: https://etbondeveloper.github.io/rt-distance-website/api/ua/schedule.json

Как видно, они отличаются лишь названием папки на сервере "ru" и "ua". После перехода по ссылке, ваш браузер отобразит JSON файл так, как это заложено в его алгоритме, нас такой вариант не интересует, мы же не будем постоянно переходить вручную по адресу чтобы посмотреть на данные. Зная адресс файла мы можем автоматизировать процесс получения данных и их корректной обработки, используя практически любой язык программирования, про это пойдёт речь в следующем разделе.
### **3. Как работать с данными:**
> В этом разделе вы узнаете как работать с данными.

Работу с JSON на сегодняшний день поддерживает любой современный язык программирования. Это значит что вы можете использовать свой любимый язык программирования для работы с JSON. Я покажу пример работы лишь на 3 языках: Python, JavaScript и C#. Стоит сразу сказать, вы должны быть знакомы с программированием хоть чуть-чуть чтобы правильно использовать эти данные, возможности применения ограничиваются лишь вашей фантазией и опытом програмирования. Примеры того, что вы можете сделать используя эти данные: Telegram бот который работает онлайн и может подсказать вам какая сейчас идёт пара, какой classroom код этой пары и какая ссылка на пару. Приложение на Android или IOS которое оповещает вас что пора идити на пару, даёт ссылку на неё и classroom код в придачу. Вся работа с JSON сводится к тому, что вы обращаетесь к данным в каскадном стиле, сначала ко дню недели, потом к времени начала пары или к названию дня недели, после у вас есть выбор что вы хотите получить: название предмета, classroom код предмета или ссылку на пару если она постоянная (если не постоянная, значением свойства будет null (ничего)), также каждую недели в определённый день, пары разные, в названии вы получите две пары, разделённые символом "/", используйте возможности вашего языка чтобы поделить строку на 2 части, или оставьте всё как есть. Пару слов про структуру JSON, в фигурных скобках всегда заключён объект, а в объекте может находится множество свойств к которым вы можете обратится, также обьект может быть именованым, например, после обращения к дню недели (это и есть именованый объект) вы получите обьект в котором находится ещё как минимум 3 именованых объекта и 1 свойство, имена этих 3 объектов это время начала пары, после обращения к объекту (времени пары) вы получите доступ ко всей информации связанной с парой котрая начинается в это время: название предмета, classroom код и ссылка на конференции (опционально), эти 3 свойства также имеют имя, именно поэтому JSON это один из самых удобных способов структурировать данные. Дальше пойдут простые примеры обращения к данным на 3 языках программирования.
### 3.1. Python:
```python
import requests  # Подключаем библиотеку requests для работы с запросами.

# Получаем объект response делая get запрос на адрес с нашим json файлом.
response = requests.get('https://etbondeveloper.github.io/rt-distance-website/api/ru/schedule.json')
 
# Конвертируем объект response к типу данных dict в python для представления данных в виде словаря.
data = response.json()

# Сначала обращаемся к словарю data, потом ко дню недели ["1"], потом к времени пары ["08:30"] и напоследок к названию урока ["lesson_name"] и выводим это всё на консоль.
print(data["1"]["08:30"]["lesson_name"])

# Всё аналогично как и с прошлой строкой, только здесь мы выводим в консоль classroom код пары которая проходит в понедельник в 08:30.
print(data["1"]["08:30"]["classroom_code"])

# Получение названия дня недели в виде строки и вывод на консоль.
print(data["1"]["str_day_of_week"]) 
```
### 3.2. JavaScript:
```javascript
fetch('https://etbondeveloper.github.io/rt-distance-website/api/ru/schedule.json') // Делаем запрос к JSON файлу на сервер используя функцию fetch
.then(response => {
    if (response.ok) { // Если данные получены корректно
        return response.json(); // Возвращаем JavaScript объект из объекта response
    }
    throw new Error('Ошибка получения данных: ' + response.status); // Если данные получены некорректно выкидываем ошибку пользователю с статусом ответа сервера
}).then(data => {
    // Сначала обращаемся к объекту data, потом ко дню недели ["1"], потом к времени пары ["08:30"] и напоследок к названию урока ["lesson_name"] и выводим это всё на консоль.
    console.log(data["1"]["08:30"]["lesson_name"]);

    // Всё аналогично как и с прошлой строкой, только здесь мы выводим в консоль classroom код пары которая проходит в понедельник в 08:30.
    console.log(data["1"]["08:30"]["classroom_code"]);

    // Получение названия дня недели в виде строки и вывод на консоль.
    console.log(data["1"]["str_day_of_week"]);
}).catch(error => { // Если не получиться обратится к свойствам объекта будет ошибка, которую мы выведем в консоль.
    console.error(error);
});
```
### 3.3. C#:
```csharp
using System;
using System.Net.Http;
using System.Text.Json;
using System.Threading.Tasks;

public class Program
{
    public static async Task Main() // Основной метод Main который выполняет асинхронные действия (запросы к серверу)
    {
        using (var client = new HttpClient()) // Используем using блок для автоматического очищения данных после работы с JSON объектом
        {
            try
            {
                // Ожидаем завершения асинхронной операции (запроса к серверу на получение JSON файла)
                var response = await client.GetAsync("https://etbondeveloper.github.io/rt-distance-website/api/ru/schedule.json"); 

                // Если запрос прошел успешно, выполняем действия с JSON 
                if (response.IsSuccessStatusCode)
                {
                    // Читаем ответ сервера как строку
                    var jsonString = await response.Content.ReadAsStringAsync();

                    // Приводим строку к экземпляру класса JsonElement для дальнейшей работы
                    var data = JsonSerializer.Deserialize<JsonElement>(jsonString);

                    // Сначала обращаемся к объекту data, потом ко дню недели "1", потом к времени пары "08:30" и напоследок к названию урока "lesson_name" и выводим это всё на консоль.
                    Console.WriteLine(data.GetProperty("1").GetProperty("08:30").GetProperty("lesson_name").GetString());

                    // Всё аналогично как и с прошлой строкой, только здесь мы выводим в консоль classroom код пары которая проходит в понедельник в 08:30.
                    Console.WriteLine(data.GetProperty("1").GetProperty("08:30").GetProperty("classroom_code").GetString());

                    // Получение названия дня недели в виде строки и вывод на консоль.
                    Console.WriteLine(data.GetProperty("1").GetProperty("str_day_of_week").GetString());
                }
                else
                {
                    Console.WriteLine("Ошибка получения данных: " + response.StatusCode);
                }
            }
            catch (HttpRequestException e)
            {
                Console.WriteLine("Ошибка при выполнении запроса: " + e.Message);
            }
        }
    }
}
```
Если вас заинтересовала тема API взаимодействий вы можете найти больше информации на счёт этого в интернете, а также попробовать поработать с данными в других языках программирования, на этом информация по API закончилась, приятного написания кода и удачи во всех свершениях.